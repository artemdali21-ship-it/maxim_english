'use client';

import { useState } from 'react';

export function MythsSection() {
  const [expandedMyth, setExpandedMyth] = useState<number | null>(null);

  const myths = [
    {
      number: 1,
      title: 'Английская грамматика сложная',
      content: `Английский язык — единственный не флективный, а аналитический язык в Европе, за исключением угро-финских (те тоже не флективные, но устроены ещё сложнее). Наличие флексий, то есть когда грамматические значения (падеж, род, число, время и т.д.) выражаются изменением формы слова — с помощью окончаний и внутренних изменений, наблюдается во всех языках. Например, русский глагол «дать» может принимать много десятков различных форм в зависимости от рода, числа, падежа, времени и т.д.

В английском же языке большинства изменений внутри слова попросту нет. Самая изменяемая часть речи (глагол) имеет всего 5 форм. У существительных есть только число (и то не у всех), но нет ни рода, ни падежа. У прилагательных есть только степени сравнения, но опять — ни рода, ни числа, ни падежа, как в других языках.

Грамматическая простота английского языка наряду с другими причинами (политическими, экономическими и культурными) послужила тому, что именно он стал языком интернационального общения в ХХ веке. В предыдущие столетия такими языками были: греческий и латынь в древности, латынь для богословов и учёных в Средние века, французский для аристократии, начиная с XVIII века, или немецкий — язык науки в XVIII–XIX веках.

До бурного развития капитализма необходимость говорить и понимать иностранные языки были у единиц (учёные и богословы) или у крайне незначительного числа людей с большим достатком, которые могли позволить себе университеты или гувернёров прямиком из Парижа:

*Monsieur l'Abbé, француз убогой,*
*Чтоб не измучилось дитя,*
*Учил его всему шутя,*
*Не докучал моралью строгой,*
*Слегка за шалости бранил*
*И в Летний сад гулять водил.*

Всё изменилось в конце XIX — начале ХХ века. С развитием торговли, стремительным ростом технологий (телефон, телеграф, железные дороги, а вскоре и самолёты) мир стал более доступен, а знание языков явилось насущным для огромного числа людей. Миллионы людей просто не способны выучить сложные флективные французский или немецкий языки. Им нужно что-то более примитивное и побыстрее.

Так ПРОСТОЙ английский победил в конкурентной борьбе, что до сих пор ранит обидчивых французов)))`
    },
    {
      number: 2,
      title: 'Надо много смотреть фильмов и слушать радио (подкасты)',
      content: `Это отчасти верно при условии, что вам до 5 лет от роду. Дети действительно отлично усваивают увиденное и услышанное на любом иностранном языке. На этом (но не только) основана образовательная система скандинавских стран: там все программы, включая фильмы, звучат в оригинале и сопровождаются субтитрами. В результате датские и шведские дети к моменту поступления в школу имеют изрядный словарный запас, могут говорить на определённые темы и имеют весьма поставленное произношение.

Взрослым же людям просмотр и прослушивание не помогут в понимании языка без дополнительных усилий: записывать и повторять услышанное, пересказывать и тренировать новые слова. Это детальная и кропотливая работа, которую вряд ли можно совместить с лёгким и расслабленным просмотром сериала.`
    },
    {
      number: 3,
      title: 'Надо просто много читать',
      content: `Правда лишь отчасти. Спору нет: чтение даёт возможность улучшить понимание структуры предложений, а главное, улучшить словарный запас. Однако тут есть «подводные камни»: если просто читать, а не делать потом «обратный перевод» или пересказ, эффективность такого занятия резко падает; второе — надо выбирать что именно читать.

Рекомендуется читать современную литературу, если вы не хотите в современном мире звучать, как средневековый рыцарь из романа Вальтера Скотта или пожилой граф из детектива Агаты Кристи. Должно быть много диалогов. Именно это разовьёт устную речь, а не само повествование, которое обычно написано литературным языком, на котором люди не говорят.`
    },
    {
      number: 4,
      title: 'Для языков нужен талант (очень распространённый)',
      content: `Язык — это структура и организм. Такие объекты изучаются науками. Математикой, химией или, например, биологией. Всё это — точные науки, где, скорее, нужны знание, усидчивость, логика и мотивация.

Таланты нужны в искусствах, а не науках. Ремеслу обучают, а вот в искусстве даже обучение может не дать результатов, а часто талант выстреливает и безо всякого обучения. Ни Пушкин, ни Маяковский, ни Цветаева, ни Есенин или другие мастера нигде не обучались поэтическому навыку, зато у них был дар. Можно провести полжизни в театральной, музыкальной или художественной школе, но вы не напишете портрета кисти Веласкеса, не создадите фугу Баха и не сыграете Плейшнера, как это сделал Евгений Евстигнеев.

А вот выучить английский, как миллионы до вас и ещё миллионы после, вы сможете, потому что «божественный дар» не имеет отношения к изучению языка, где грамматическая структура похожа на химические формулы, словообразование имеет чёткие законы, даже фонетика — это взаимодействие физических элементов (губы, нёбо, альвеолы) с физическими же вещами, такими как дыхание или голос. На отсутствие дара может пожаловаться писатель, художник, музыкант или поэт. А в изучении языков впору жаловаться лишь на собственную лень, отсутствие мотивации, времени на занятия, отсутствие логики и неусидчивость.`
    },
    {
      number: 5,
      title: '«Теперь у меня есть отличный преподаватель, значит скоро я заговорю»',
      content: `Преподаватель действительно важная часть учебного процесса, но и он — всего лишь посредник между вами и изучаемым языком. It takes two to tango! «Для танго нужны двое». Преподаватель может объяснить, дать методику, ответить на вопросы, показать пример, дать материал и проконтролировать, но он не выучит за вас словарь, не сделает упражнения, не заучит текст. Это — как в спорте: отлично, когда у легкоатлета хороший тренер, но бежать дистанцию или прыгать в длину — всё равно атлету, то есть вам.`
    }
  ];

  return (
    <section id="myths" className="py-20 md:py-32 px-6 bg-background">
      <div className="max-w-5xl mx-auto">
        <h2 className="text-5xl md:text-6xl font-serif font-bold text-primary mb-4 tracking-tight leading-tight">
          Развенчание мифов<br />
          <span className="text-accent">Debunking Some Myths</span>
        </h2>
        
        <div className="space-y-8 md:space-y-16 mt-16">
          {myths.map((myth) => (
            <div key={myth.number} className="border-l-4 border-accent pl-8 md:pl-12">
              {/* Desktop: Always show full content */}
              <div className="hidden md:block">
                <div className="flex items-baseline gap-4 mb-6">
                  <span className="text-6xl md:text-7xl font-serif font-bold text-accent/30">{myth.number}</span>
                  <h3 className="text-2xl md:text-3xl font-serif font-bold text-primary">{myth.title}</h3>
                </div>
                <div className="prose prose-invert max-w-none">
                  {myth.content.split('\n\n').map((paragraph, idx) => (
                    <p key={idx} className="text-base md:text-lg text-foreground/85 leading-relaxed font-light mb-4 md:mb-6">
                      {paragraph.startsWith('*') ? (
                        <em className="block italic text-foreground/70">{paragraph.slice(1, -1)}</em>
                      ) : (
                        paragraph
                      )}
                    </p>
                  ))}
                </div>
              </div>

              {/* Mobile: Accordion */}
              <div className="md:hidden">
                <div className="flex items-start gap-3 mb-4">
                  <span className="text-4xl font-serif font-bold text-accent/40 flex-shrink-0">{myth.number}</span>
                  <div className="flex-1">
                    <h3 className="text-lg font-serif font-bold text-primary">{myth.title}</h3>
                  </div>
                </div>
                
                <div className="relative">
                  <div className={`overflow-hidden transition-all duration-300 ease-in-out ${expandedMyth === myth.number ? 'max-h-[5000px]' : 'max-h-24'}`}>
                    {myth.content.split('\n\n').map((paragraph, idx) => (
                      <p key={idx} className="text-sm text-foreground/80 leading-relaxed font-light mb-3">
                        {paragraph.startsWith('*') ? (
                          <em className="block italic text-foreground/60">{paragraph.replace(/\*/g, '')}</em>
                        ) : (
                          paragraph
                        )}
                      </p>
                    ))}
                  </div>
                  {/* Fade overlay when collapsed */}
                  {expandedMyth !== myth.number && (
                    <div className="absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-background to-transparent pointer-events-none" />
                  )}
                </div>

                <button
                  onClick={() => setExpandedMyth(expandedMyth === myth.number ? null : myth.number)}
                  className="text-sm font-medium text-accent hover:text-accent/80 transition-colors duration-200 mt-2"
                >
                  {expandedMyth === myth.number ? 'Свернуть ↑' : 'Читать далее ↓'}
                </button>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
}

